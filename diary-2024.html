<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Developer Diary 2024</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <!--link href="css/bootstrap.min.css" rel="stylesheet"-->
    <link href="css/themes/sandstone.css" rel="stylesheet">
    <link href="css/asciidoctor.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114748485-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-114748485-1');
    </script>
    
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">

	<!-- Fixed navbar -->  

<nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">

  <div class="container">
    <a class="navbar-brand" href="">dplatz.de</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarColor01">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Blog</a></li>
        <li class="nav-item"><a class="nav-link" href="https://dplatz.de/aiblog/">AI Blog</a></li>

        <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
        <li class="nav-item"><a class="nav-link" href="archive.html">Archive</a></li>
        <li class="nav-item"><a class="nav-link" href="tags/">Tags</a></li>
        <li class="nav-item"><a class="nav-link" href="feed.xml">Subscribe</a></li>
        <!--li  class="nav-item dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Notes <b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="git.html">Git</a></li>
            <li><a href="wildfly.html">Wildfly</a></li>
            
          </ul>
        </li-->

        <li class="nav-item">
          <a class="nav-link" href="https://github.com/38leinaD"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
          </span><span class="username">38leinaD</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/38leinaD"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
          </span><span class="username">38leinaD</span></a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container">
	
	<div class="page-header">
		<h1>Developer Diary 2024</h1>
	</div>

	<p><em>01 January 2024</em></p>

	<p><div class="sect1">
<h2 id="_saturday_09_11_2024">Saturday, 09.11.2024</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Port-forwarding from Host to WSL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>netsh interface portproxy add v4tov4 listenport=8443 listenaddress=0.0.0.0 connectport=8443 connectaddress=172.25.104.186
netsh interface portproxy show v4tov4</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thursday_19_09_2024">Thursday, 19.09.2024</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Auto-explain of query plans on Postgres logs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>LOAD 'auto_explain';
SET auto_explain.log_min_duration = '0.1ms';
SET auto_explain.log_analyze = true;</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sunday_18_02_2024">Sunday, 18.02.2024</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre># Run tests
jmeter.sh -Jthreads=1000 -n -l result.jtl -t testplan.jmx
# Generate repo from test results
jmeter.sh -Jjmeter.reportgenerator.overall_granularity=1000 -g result.jtl -o report</pre>
</div>
</div>
<div class="paragraph">
<p>In the test plan specify the number of threads as <code>${__P(threads,10)}</code> to be able to pass it on the CLI.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sunday_11_02_2024">Sunday, 11.02.2024</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_vscode_shortcuts">VSCode Shortcuts</h3>
<div class="paragraph">
<p><a href="https://code.visualstudio.com/shortcuts/keyboard-shortcuts-windows.pdf">VSCode Keyboard Shortcuts</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Ctrl+B</code>: Show/Hide sidebar</p>
</li>
<li>
<p><code>Ctrl+Shift+E</code>: Go to explorer view</p>
</li>
<li>
<p><code>Ctrl+Shift+F</code>: Find View</p>
</li>
<li>
<p><code>Ctrl+K Z</code>: Zen mode</p>
</li>
<li>
<p><code>Ctrl+PageUp/Down</code>: Tab-left/right / Also cycle terminals</p>
</li>
<li>
<p><code>Ctrl+K W</code>: Close all tabs</p>
</li>
<li>
<p><code>Ctrl+Up/Down</code>: Focus terminal/other</p>
</li>
<li>
<p><code>Ctrl+Shift+Q</code>: Maximize Window</p>
</li>
<li>
<p><code>Shift+F12</code>: Find usages</p>
</li>
<li>
<p><code>Ctrl+D</code>: Edit all occurences</p>
</li>
<li>
<p><code>F2</code>: Change name of variable</p>
</li>
<li>
<p><code>Alt+Down</code>: Move line down</p>
</li>
<li>
<p><code>Alt+Shift+Down</code>: Duplicate line below</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sunday_28_01_2024">Sunday, 28.01.2024</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>npm create vite@latest my-lit-app -- --template lit</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sunday_07_01_2024">Sunday, 07.01.2024</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_s3_bucket_provisioning">S3 Bucket Provisioning</h3>
<div class="listingblock">
<div class="content">
<pre>export BUCKET_NAME=my-bucket
aws s3api create-bucket --bucket $BUCKET_NAME --create-bucket-configuration LocationConstraint=eu-central-1
aws s3api delete-bucket-ownership-controls --bucket $BUCKET_NAME
aws s3api delete-public-access-block --bucket $BUCKET_NAME

echo '{"Version":"2012-10-17","Statement":[{"Sid": "PublicReadGetObject","Effect": "Allow","Principal": "*","Action": "s3:GetObject","Resource": "arn:aws:s3:::'${BUCKET_NAME}'/*"}]}' &gt; policy_s3.json
aws s3api put-bucket-policy --bucket $BUCKET_NAME --policy file://policy_s3.json

echo "&lt;html&gt;&lt;head&gt;&lt;title&gt;Hello World!&lt;/title&gt;&lt;/head&gt;&lt;body&gt;Hello World!&lt;/body&gt;&lt;/html&gt;" &gt; index.html

aws s3 cp index.html s3://$BUCKET_NAME
aws s3 website s3://$BUCKET_NAME --index-document index.html

# no need to provide index.html
curl http://$BUCKET_NAME.s3-website.eu-central-1.amazonaws.com
# needs index.html
curl https://s3-eu-central-1.amazonaws.com/$BUCKET_NAME/index.html</pre>
</div>
</div>
<div class="paragraph">
<p>Bucket name needs to be CNAME if you want to use custom domain.</p>
</div>
<div class="paragraph">
<p>Delete the bucket:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>aws s3 rm s3://$BUCKET_NAME --recursive
aws s3api delete-bucket --bucket $BUCKET_NAME</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_how_quarkus_dev_ui_implements_links_that_open_files_in_ide">How Quarkus Dev UI implements links that open files in IDE</h3>
<div class="paragraph">
<p>Great overall resource for Dev UI:
<a href="https://quarkus.io/guides/dev-ui" class="bare">https://quarkus.io/guides/dev-ui</a></p>
</div>
<div class="paragraph">
<p>Opening IDE:</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/quarkusio/quarkus/tree/8fc3e7cad51664070de784864bb18caf1d6b248b/extensions/vertx-http/dev-ui-resources/src/main/resources/dev-ui/controller" class="bare">https://github.com/quarkusio/quarkus/tree/8fc3e7cad51664070de784864bb18caf1d6b248b/extensions/vertx-http/dev-ui-resources/src/main/resources/dev-ui/controller</a>
<a href="https://github.com/quarkusio/quarkus/blob/7cdfd744b65d703aa5b50040ae2c9963bd01bc4d/extensions/vertx-http/deployment/src/main/java/io/quarkus/devui/deployment/ide/IdeProcessor.java#L48" class="bare">https://github.com/quarkusio/quarkus/blob/7cdfd744b65d703aa5b50040ae2c9963bd01bc4d/extensions/vertx-http/deployment/src/main/java/io/quarkus/devui/deployment/ide/IdeProcessor.java#L48</a>
<a href="https://github.com/quarkusio/quarkus/blob/main/core/deployment/src/main/java/io/quarkus/deployment/ide/Ide.java#L32" class="bare">https://github.com/quarkusio/quarkus/blob/main/core/deployment/src/main/java/io/quarkus/deployment/ide/Ide.java#L32</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tuseday_09_01_2024">Tuseday, 09.01.2024</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_openid_for_spas_bff">OpenID for SPAs, BFF</h3>
<div class="paragraph">
<p><a href="https://www.youtube.com/watch?v=UBFx3MSu1Rc">Using the BFF pattern to secure SPA and Blazor Applications - Dominick Baier - NDC Oslo 2021</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Implicit flow is deprected. Use Authorization Code Flow. Returning token in redirect url, exposes it to browser history etc.. Duing explicit call is using backchannel and not exposing it that easily. But still, is in browser and thus inherently exposed to code injection attacks that could gain access to the tokens still.</p>
</li>
<li>
<p>same site policy in browsers secures against CSRF. But site is only *.google.com. Not subdomain, not port.</p>
</li>
<li>
<p>origin is protocol + dns-name + port. Site is less strict</p>
</li>
<li>
<p>access code is still exposed to browser but not issue because BFF will do the token exchange (exchange code for token).</p>
<div class="ulist">
<ul>
<li>
<p>access code is short lived and usually only valid for seconds and single use.</p>
</li>
<li>
<p>BFF can use a client secret. So, even if code is leaked, you cannot exchange it for a token if you dont have the client secret</p>
</li>
</ul>
</div>
</li>
<li>
<p>BFF should implement, login, logout, user</p>
</li>
<li>
<p>IdPs have backchannel notifications to BFF. BFF can send notification (e.g websocket) to the SPA then. If this is not available &#8594; UI needs to poll</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="https://oauth.net/2/browser-based-apps/">OAuth 2.0 for Browser-Based Apps</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Can we implemnt this pattern in AWS Lambda? We can have cookies in lambda. We cannot have server-side session. Put all tokens in the cookie and encrypt!?</p>
</li>
</ul>
</div>
</div>
</div>
</div></p>

	<hr />

		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">&copy; 2018 | Mixed with <a href="http://getbootstrap.com/">Bootstrap v3.1.1</a> | Baked with <a href="http://jbake.org">JBake v2.7.0-rc.7</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/prettify.js"></script>
    <script src="js/custom.js"></script>
  </body>
</html>